(this["webpackJsonpflowers-no-2"]=this["webpackJsonpflowers-no-2"]||[]).push([[0],{17:function(t,e,i){},30:function(t,e,i){"use strict";i.r(e);var n=i(1),a=i.n(n),o=i(9),s=i.n(o),r=(i(17),i(2));window.p5=r;i(19);var d=i(10),h=i(0);function u(){return Object(h.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(h.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(h.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var c=i(11),l=i(12),p=function(){function t(e,i,n,a){Object(c.a)(this,t),this.p=e,this.x=i,this.y=n,this.petalCount=e.random(2,16),this.pistilRadius=e.random(e.width/64,e.width/32),this.cp1x=Math.random()*e.random(e.width/32,e.width/16),this.cp1y=0,this.cp2x=Math.random()*e.random(e.width/32,e.width/16),this.cp2y=Math.random()*e.random(e.width/32,e.width/16),this.cp3x=Math.random()*e.random(e.width/32,e.width/16),this.cp3y=Math.random()*e.random(e.width/32,e.width/16),this.cp4x=0,this.cp4y=0,this.petalColor={r:a,g:e.random(50,100),b:e.random(50,100),a:e.random(.25,1)},this.petalHues=this.generatePetalHues(a),this.pistilColor={r:a+90>360?a-90:a+90,g:e.random(50,100),b:e.random(50,100),a:e.random(.25,1)}}return Object(l.a)(t,[{key:"makePetal",value:function(){this.p.beginShape(),this.p.vertex(this.cp1x,this.cp1y),this.p.bezierVertex(this.cp2x,this.cp2y,this.cp3x,this.cp3y,this.cp4x,this.cp4y),this.p.bezierVertex(this.cp3x,-this.cp3y,this.cp2x,-this.cp2y,this.cp1x,this.cp1y),this.p.endShape()}},{key:"generatePetalHues",value:function(t){for(var e=[],i=t,n=0;n<2*this.petalCount;n++)i=this.randomHue(i),e.push(i);return e}},{key:"randomHue",value:function(t){var e=this.p.random(-10,10);return t+e>360?t-360+e:t+e}},{key:"draw",value:function(){this.p.translate(this.x,this.y),this.p.push();for(var t=0;t<2*this.petalCount;t++)this.p.fill(this.petalHues[t],this.petalColor.g,this.petalColor.b,this.petalColor.a),this.p.strokeWeight(.5),this.makePetal(),this.p.rotate(this.p.PI/this.petalCount);this.p.fill(this.pistilColor.r,this.pistilColor.g,this.pistilColor.b,this.pistilColor.a),this.p.ellipse(0,0,this.pistilRadius),this.p.pop(),this.p.translate(-this.x,-this.y)}}]),t}(),g=i.p+"static/media/flowers-no-2.494aa783.ogg",f=i.p+"static/media/flowers-no-2.2595d1b9.mid",w=function(){var t=Object(n.useRef)(),e=function(t){t.canvas=null,t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.audioLoaded=!1,t.player=null,t.PPQ=15360,t.loadMidi=function(){d.Midi.fromUrl(f).then((function(e){console.log(e);var i=e.tracks[5].notes,n=e.tracks[3].notes;t.scheduleCueSet(i,"executeCueSet1"),t.scheduleCueSet(n,"executeCueSet2"),t.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},t.preload=function(){t.song=t.loadSound(g,t.loadMidi),t.song.onended(t.logCredits)},t.scheduleCueSet=function(e,i){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=-1,o=1,s=0;s<e.length;s++){var r=e[s],d=r.ticks,h=r.time;(d!==a||n)&&(r.currentCue=o,t.song.addCue(h,t[i],r),a=d,o++)}},t.hueSet=[30,90,150,210,270,330],t.bgHue=0,t.bgSaturation=30,t.bgBrightness=50,t.flowers=Array(20).fill(null),t.setup=function(){t.canvas=t.createCanvas(t.canvasWidth,t.canvasHeight),t.bgHue=t.random(t.hueSet),t.colorMode(t.HSB),t.background(t.bgHue,t.bgSaturation,t.bgBrightness),t.stroke(0,0,100),t.noLoop()},t.draw=function(){if(t.audioLoaded&&t.song.isPlaying()){t.background(t.bgHue,t.bgSaturation,t.bgBrightness);for(var e=0;e<t.flowers.length;e++){var i=t.flowers[e];i&&i.draw()}}},t.getNextCoordinates=function(){var e,i,n=!0;do{e=t.random(t.width/8,t.width-t.width/8),i=t.random(t.height/8,t.height-t.height/8),n=t.flowers.some((function(n){return!!n&&t.dist(e,i,n.x,n.y)<2*n.pistilRadius}))}while(n);return{x:e,y:i}},t.executeCueSet1=function(e){var i=e.currentCue;i%10===1&&(t.clear(),t.flowers=Array(20).fill(null));var n=t.getNextCoordinates(),a=t.random(t.hueSet.filter((function(e){return e!==t.bgHue})));t.flowers[i%10-1]=new p(t,n.x,n.y,a),t.draw(),setTimeout((function(){n=t.getNextCoordinates(),t.flowers[i%10-1+10]=new p(t,n.x,n.y,a+t.random(-30,30)),t.draw()}),433)},t.executeCueSet2=function(e){var i=e.currentCue;t.bgSaturation=t.bgSaturation+10,t.bgBrightness=t.bgBrightness+5,i%6===0&&(t.bgHue=t.random(t.hueSet.filter((function(e){return e!==t.bgHue}))),t.bgSaturation=30,t.bgBrightness=50),t.draw()},t.hasStarted=!1,t.mousePressed=function(){t.audioLoaded&&(t.song.isPlaying()?t.song.pause():(parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&(t.reset(),"undefined"!==typeof window.dataLayer&&window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"replaying"}})),document.getElementById("play-icon").classList.add("fade-out"),t.canvas.addClass("fade-in"),t.song.play(),"undefined"===typeof window.dataLayer||t.hasStarted||(window.dataLayer.push({event:"play-animation",animation:{title:document.title,location:window.location.href,action:"start playing"}}),t.hasStarted=!1)))},t.creditsLogged=!1,t.logCredits=function(){!t.creditsLogged&&parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&(t.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),t.song.stop())},t.reset=function(){},t.updateCanvasDimensions=function(){t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.canvas=t.resizeCanvas(t.canvasWidth,t.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){t.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){t.updateCanvasDimensions()}),!0)};return Object(n.useEffect)((function(){new r(e,t.current)}),[]),Object(h.jsx)("div",{ref:t,children:Object(h.jsx)(u,{})})};var m=function(){return Object(h.jsx)(w,{})};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.6f87f092.chunk.js.map